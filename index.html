<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Indique & Ganhe</title>

<link rel="icon" type="image/x-icon" href="logotipo.ico?v=1">
<link rel="shortcut icon" href="logotipo.ico?v=1">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Roboto', sans-serif; }
html, body { height:100%; overflow:hidden; }
body { background: linear-gradient(135deg, #004aad, #007bff); display:flex; justify-content:center; align-items:center; }

/* Splash */
#splash { position: fixed; width: 100%; height: 100%; background-color: #fff; display:flex; justify-content:center; align-items:center; flex-direction:column; opacity:1; transition: opacity 1.5s ease; z-index:10; }
#splash img { width: 350px; margin-bottom:20px; animation: fadeInDown 1.5s; }
#splash p { font-size:1.5rem; color:#004aad; font-weight:500; animation: fadeIn 2s; }

/* Keyframes */
@keyframes fadeInDown { from {opacity:0; transform:translateY(-50px);} to {opacity:1; transform:translateY(0);} }
@keyframes fadeIn { from{opacity:0;} to{opacity:1;} }

/* App Card */
#app { background:white; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.2); padding:30px 40px; max-width:550px; width:90%; text-align:center; position:relative; display:none; transition: opacity 0.8s ease, transform 0.8s ease; }
#app.sair { opacity:0; transform:scale(0.95); }
#logo-card { width: 450px; margin-bottom:25px; max-width:90%; }
h1.app-title { margin-bottom:15px; line-height:1.2; font-size:2.5rem; color:#004aad; font-weight:700; text-transform:uppercase; letter-spacing:1px; }
p.intro { color:#333; margin-bottom:20px; font-size:1.2rem; }
input { width:100%; padding:14px; margin-bottom:15px; border-radius:8px; border:1px solid #ccc; font-size:1rem; transition:0.3s; }
input:focus { border-color:#007bff; outline:none; }

/* Dropdown custom */
#dropdown-interesse { width:100%; padding:14px; border:1px solid #ccc; border-radius:8px; cursor:pointer; position:relative; font-size:1rem; }
#dropdown-options { position:absolute; left:0; width:100%; background:white; border:1px solid #ccc; border-radius:8px; margin-top:2px; display:none; max-height:200px; overflow:auto; z-index:20; }
#dropdown-options div { padding:10px; cursor:pointer; }
#dropdown-options div:hover { background:#f0f0f0; }

/* Botões */
.btn { background:#007bff; color:white; border:none; padding:14px 25px; font-size:1.1rem; border-radius:8px; cursor:pointer; margin:5px; transition:0.3s; box-shadow:0 5px 15px rgba(0,0,0,0.2); }
.btn:hover { background:#0056b3; transform:scale(1.08); box-shadow:0 8px 20px rgba(0,0,0,0.3); }
.btn-sair { background:#ff4d4d; }
.btn-sair:hover { background:#cc0000; transform:scale(1.08); }
#success-msg { display:none; color:green; font-weight:bold; margin-top:15px; font-size:1.2rem; position:relative; }

/* Congrats */
#congrats { position:fixed; top:0; left:0; width:100%; height:100%; background: linear-gradient(135deg, #e0f0ff, #ffffff); display:flex; justify-content:center; align-items:center; flex-direction:column; z-index:50; display:none; overflow:hidden; opacity:1; transition: opacity 1s ease; }
#congrats-card { background:white; border-radius:20px; padding:40px 50px; max-width:80%; min-width:300px; text-align:center; box-shadow:0 15px 40px rgba(0,0,0,0.25); display:flex; flex-direction:column; align-items:center; animation:fadeInScale 1s; }
@keyframes fadeInScale { from {opacity:0; transform:scale(0.8);} to {opacity:1; transform:scale(1);} }
#congrats-logo { width: 300px; margin-bottom:25px; animation:fadeInDown 1s; }
#congrats h2 { font-size:2.8rem; color:#004aad; text-shadow: 2px 2px 10px rgba(0,0,0,0.3); animation:fadeInUp 1s; word-break: break-word; }
#congrats p { font-size:1.8rem; color:#004aad; text-shadow:1px 1px 4px rgba(0,0,0,0.2); animation:fadeInUp 1s; }
#congrats-confetti { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; overflow:hidden; z-index:10; }
.congrats-confetto { width:15px; height:15px; position:absolute; border-radius:50%; opacity:0; animation:fallConfetti 3s forwards; }
@keyframes fallConfetti { 0% { transform: translateY(0) rotate(0deg) scale(0.5); opacity:1; } 100% { transform: translateY(700px) rotate(720deg) scale(1.2); opacity:0; } }

/* Responsivo */
@media(max-width:1024px){
  #app { padding:25px 30px; }
  h1.app-title { font-size:2rem; }
  p.intro { font-size:1rem; }
  .btn { padding:12px 20px; font-size:1rem; }
  #logo-card { width: 350px; }
}
@media(max-width:768px){
  #app { padding:20px 20px; width:95%; }
  h1.app-title { font-size:1.8rem; }
  p.intro { font-size:0.95rem; }
  .btn { padding:10px 18px; font-size:0.95rem; }
  #logo-card { width: 300px; }
}
@media(max-width:480px){
  #app { padding:15px 15px; width:98%; }
  h1.app-title { font-size:1.5rem; }
  p.intro { font-size:0.9rem; }
  input, #dropdown-interesse { padding:12px; font-size:0.9rem; }
  .btn { padding:8px 15px; font-size:0.9rem; }
  #logo-card { width: 250px; }
}
</style>
</head>
<body>

<div id="splash">
  <img src="logo.ico" alt="UniCesumar Logo">
  <p>Carregando...</p>
</div>

<div id="app">
  <img id="logo-card" src="logo.ico" alt="UniCesumar Logo">
  <h1 class="app-title">Indique & Ganhe</h1>
  <p class="intro">Indique um amigo e ganhe até <strong>25% de desconto</strong> na sua mensalidade!</p>

  <form id="form-indicacao" onsubmit="enviarIndicacao(event)">
    <input type="text" id="nome-indicador" placeholder="Seu nome" required />
    <input type="tel" id="telefone-indicador" placeholder="Seu telefone" required />
    <input type="text" id="nome-indicado" placeholder="Nome do amigo" required />
    <input type="tel" id="telefone-indicado" placeholder="Telefone do amigo" required />

    <div id="dropdown-interesse">
      <span id="dropdown-display">Área de interesse (opcional)</span>
      <div id="dropdown-options"></div>
    </div>

    <div>
      <button type="submit" class="btn">Enviar Indicação</button>
      <button type="button" class="btn btn-sair" onclick="sairApp()">Sair</button>
    </div>

    <div id="success-msg">Indicação enviada com sucesso!</div>
  </form>

  <div id="confetti"></div>
</div>

<div id="congrats">
  <div id="congrats-card">
    <img id="congrats-logo" src="logo.ico" alt="UniCesumar Logo">
    <h2 id="congrats-text"></h2>
  </div>
  <div id="congrats-confetti"></div>
</div>

<script>
// Splash
window.addEventListener("load", () => {
  setTimeout(() => {
    const splash = document.getElementById("splash");
    splash.style.opacity=0;
    setTimeout(()=>{ splash.style.display="none"; document.getElementById("app").style.display="block"; },1500);
  },2000);
});

// Áreas e cursos (mesmo código anterior)
const areas = {
  "Educação": ["Licenciatura em Ciências Biológicas","Licenciatura em Educação Física","Licenciatura em Educação Especial","Licenciatura em Filosofia","2ª Licenciatura em Filosofia","Licenciatura em Física","Licenciatura em Geografia","2ª Licenciatura em Geografia","Licenciatura em História","2ª Licenciatura em História","2ª Habilitação em Inglês","Licenciatura em Letras - Português/Inglês","Licenciatura em Letras - Libras","Licenciatura em Matemática","2ª Licenciatura em Matemática","Licenciatura em Pedagogia","2ª Licenciatura em Pedagogia","Bacharelado em Psicopedagogia","Licenciatura em Química","Licenciatura em Sociologia","2ª Licenciatura em Sociologia","Bacharelado em Teologia","Tecnologia em Acompanhamento do Transtorno Espectro Autista - TEA"],
  "Artes e Design":["Licenciatura em Artes Visuais","Licenciatura em Dança","Tecnólogo em Design de Interiores","Tecnólogo em Design de Moda","Tecnólogo em Design Musical","Tecnólogo em Design de Produto","Licenciatura em Música","Tecnólogo em Design de Animação","Tecnólogo em Design de Gráfico","Licenciatura em Teatro","Bacharelado em Cinema e Audiovisual"],
  "Gestão de Negócios":["Bacharelado em Administração","Bacharelado em Ciências Contábeis","Tecnólogo em Comércio Exterior","Bacharelado em Ciências Econômicas","Tecnólogo em Gestão de E-commerce","Tecnólogo em Empreendedorismo","Tecnólogo em Gestão de Cooperativas","Tecnólogo em Gestão Comercial","Tecnólogo em Gestão do Esporte e Alto Rendimento","Tecnólogo em Gestão de Farmácia","Tecnólogo em Gestão Financeira","Tecnólogo em Gestão de Negócios Imobiliários","Tecnólogo em Gestão Pública","Tecnólogo em Gestão de Lojas e PDV","Tecnólogo em Gestão da Qualidade","Tecnólogo em Gestão das Organizações do Terceiro Setor","Tecnólogo em Gestão de Turismo","Tecnólogo em Gestão de Investimentos e Mercado Financeiro","Tecnólogo em Logística","Tecnólogo em Mídias Sociais Digitais","Tecnólogo em Marketing","Tecnólogo em Processos Gerenciais","Tecnólogo em Gestão de Recursos Humanos","Tecnólogo em Secretariado","Tecnólogo em Gestão da Saúde Pública","Tecnólogo em Inteligência Artificial e Machine Learning","Tecnólogo em Inteligência de Mercado","Tecnólogo em Negócios e Customer Experiênce CX","Tecnólogo em Negócios Sustentáveis e ESG"],
  "Jurídico e Segurança":["Tecnólogo em Criminologia","Tecnólogo em Investigação Forense e Pericia Criminal","Tecnólogo em Gestão de Serviços Judiciais e Notariais","Tecnólogo em Segurança Pública","Bacharelado em Serviço Social","Tecnólogo em Gestão de Segurança Privada","Tecnólogo em Conselheiro Tutelar"],
  "Comunicação":["Tecnólogo em Comunicação Institucional","Tecnólogo em Fotografia","Bacharelado em Jornalismo","Bacharelado em Publicidade e Propaganda","Bacharelado em Relações Públicas","Tecnólogo em Ciência da Criatividade"],
  "Saúde Animal":["Tecnólogo em Bem-Estar Animal"],
  "Agrárias e Meio Ambiente":["Tecnólogo em Gestão do Agronegócio","Bacharelado em Agronomia - Híbrido","Tecnólogo em Gestão Ambiental","Tecnólogo em Agrotecnologia"],
  "Alimentos e Bebidas":["Tecnólogo em Gastronomia","Tecnólogo em Produção de Cerveja","Tecnólogo em Segurança Alimentar","Tecnólogo em Tecnologia em Alimentos"],
  "Engenharias e Arquitetura":["Tecnólogo em Automação Industrial - Híbrido - Power Tech","Bacharelado em Arquitetura e Urbanismo - Híbrido","Bacharelado em Engenharia Ambiental - Híbrido","Bacharelado em Engenharia Civil - Híbrido","Bacharelado em Engenharia Elétrica- Híbrido","Bacharelado em Engenharia Mecatrônica- Híbrido","Bacharelado em Engenharia Mecânica- Híbrido","Tecnólogo em Energias Renováveis - Híbrido - Power Tech","Bacharelado em Engenharia Produção - Online","Bacharelado em Engenharia Produção - Híbrido","Tecnólogo em Manutenção Industrial - Híbrido - Power Tech","Tecnólogo em Gestão da Produção Industrial - Online","Tecnólogo em Segurança do Trabalho - Online","Tecnólogo em Automação Residencial e Predial - Online"],
  "Saúde e Bem-Estar":["Bacharelado em Educação Física - Online","Bacharelado em Biomedicina - Híbrido","Tecnólogo em Ciência da Felicidade - Online","Tecnólogo em Estética e Cosmética - Híbrido","Bacharelado em Enfermagem - Híbrido","Bacharelado em Farmácia - Híbrido","Bacharelado em Fisioterapia - Híbrido","Tecnólogo em Gerontologia - Atenção e Cuidado ao Idoso - Online","Tecnólogo em Gestão Hospitalar - Online","Bacharelado em Nutrição - Híbrido","Tecnólogo em Podologia - Híbrido","Tecnólogo em Radiologia - Híbrido","Tecnólogo em Terapias Integrativas e Complementares - Híbrido","Bacharelado em Terapia Ocupacional - Híbrido"],
  "Tecnologia":["Tecnólogo em Análise e Desenvolvimento de Sistemas","Tecnólogo em Banco de Dados","Bacharelado em Biblioteconomia","Tecnólogo em Ciências de Dados e Análise de Comportamento","Tecnólogo em Segurança Cibernética","Tecnólogo em Desenvolvimento de Aplicativos Móveis","Bacharelado em Engenharia de Software","Tecnólogo em Jogos Digitais","Tecnólogo em Redes de Computadores","Tecnólogo em Sistemas para internet","Tecnólogo em Gestão da Tecnologia da Informação"]
};

// Dropdown
const dropdown = document.getElementById("dropdown-interesse");
const display = document.getElementById("dropdown-display");
const optionsContainer = document.getElementById("dropdown-options");
let currentArea = null;
let selectingCurso = false;

function showAreas() {
  selectingCurso = false;
  optionsContainer.innerHTML = "";
  Object.keys(areas).forEach(area => {
    const div = document.createElement("div");
    div.textContent = area;
    div.onclick = (e) => { e.stopPropagation(); showCursos(area); };
    optionsContainer.appendChild(div);
  });
}

function showCursos(area) {
  currentArea = area;
  selectingCurso = true;
  optionsContainer.innerHTML = "";
  areas[area].forEach(curso => {
    const div = document.createElement("div");
    div.textContent = curso;
    div.onclick = (e) => { 
      e.stopPropagation(); 
      display.textContent = curso; 
      optionsContainer.style.display = "none"; 
      selectingCurso = false; 
    };
    optionsContainer.appendChild(div);
  });
}

function abrirDropdown() {
  optionsContainer.style.display = "block";
  const rect = dropdown.getBoundingClientRect();
  const windowHeight = window.innerHeight;
  const spaceBelow = windowHeight - rect.bottom;
  const spaceAbove = rect.top;
  if(spaceBelow < 200 && spaceAbove > spaceBelow){
    optionsContainer.style.bottom = rect.height + "px";
    optionsContainer.style.top = "auto";
    optionsContainer.style.maxHeight = spaceAbove - 10 + "px";
  } else {
    optionsContainer.style.top = rect.height + "px";
    optionsContainer.style.bottom = "auto";
    optionsContainer.style.maxHeight = spaceBelow - 10 + "px";
  }
}

dropdown.addEventListener("click", (e) => {
  e.stopPropagation();
  if(optionsContainer.style.display === "block") {
    optionsContainer.style.display = "none";
  } else {
    showAreas();
    abrirDropdown();
  }
});

document.addEventListener("click", () => { if(!selectingCurso) optionsContainer.style.display = "none"; });

function enviarIndicacao(event){
  event.preventDefault();
  const nomeIndicador = document.getElementById("nome-indicador").value;
  const data={
    nomeIndicador: nomeIndicador,
    telefoneIndicador:document.getElementById("telefone-indicador").value,
    nomeIndicado:document.getElementById("nome-indicado").value,
    telefoneIndicado:document.getElementById("telefone-indicado").value,
    areaInteresse:display.textContent
  };
  fetch("https://script.google.com/macros/s/AKfycbz_mRW8coFu8X-oGThKXm3p74KjHaTmPQcvUmB28Xq64L7S3ZRSWeUrochj19qjHNHY/exec",{method:"POST", mode:"no-cors", body:JSON.stringify(data)}).then(()=>{
    mostrarCongrats(nomeIndicador);
    document.getElementById("form-indicacao").reset();
    display.textContent = "Área de interesse (opcional)";
  });
}

// Congrats
function mostrarCongrats(nome){
  const c = document.getElementById("congrats");
  const confettiContainer = document.getElementById("congrats-confetti");
  const texto = document.getElementById("congrats-text");
  texto.textContent = `Parabéns, ${nome}! Obrigado por sua indicação`;
  c.style.display="flex"; 
  c.style.opacity=1;

  for(let i=0;i<300;i++){
    let conf=document.createElement("div");
    conf.className="congrats-confetto";
    conf.style.left=Math.random()*100+"%";
    conf.style.backgroundColor=`hsl(${Math.random()*360},90%,60%)`;
    conf.style.animationDuration=(2+Math.random()*2)+"s";
    conf.style.transform=`rotate(${Math.random()*360}deg)`;
    confettiContainer.appendChild(conf);
    setTimeout(()=>{ conf.remove(); },5000);
  }

  setTimeout(()=>{ c.style.transition="opacity 1s ease"; c.style.opacity=0; setTimeout(()=>{ c.style.display="none"; c.style.opacity=1; },1000); },5000);
}

// Sair
function sairApp(){
  const app=document.getElementById("app");
  app.classList.add("sair");
  setTimeout(()=>{ window.location.href="https://studeo.unicesumar.edu.br/#!/access/login"; },800);
}
</script>
</body>
</html>
